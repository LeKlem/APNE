{% extends 'base.html.twig' %}

{% block title %}Shop{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('shop') }}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
{% endblock %}


{% block body %}
    {% for product in products %}
        {% if loop.index % 4 == 1 %}
            <div class="row" style="margin-left: 2.5%; margin-top: 2.5%">
        {% endif %}
        <div class="col-sm-3">
            <div class="card " style="width: 85%">
                <div class="h-100 d-flex justify-content-center align-items-center">
                    <img src="images/shop/{{ product.image  }}" class="card-img-top shop-product-img">
                </div>
                <div class="card-body">
                    <h5 class="card-title">{{ product.name }}</h5>
                    {% if product.description |length > 50 %}
                        <p class="card-text shop-text"> {{ product.description |slice(0, 50) ~ '...'}}</p>
                    {% else %}
                        <p class="card-text shop-text">{{ product.description }}</p>
                    {% endif%}
                    <a href="/product/{{ product.slug  }}" class="btn btn-primary">Acheter</a>
                </div>
            </div>
        </div>
        {% if ( (loop.index % 4 == 0) or (products|length == loop.index)) %}
            </div>
            <br>
        {% endif %}
    {% endfor %}
{% endblock %}
